(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CODE_HEX = exports.ABI = void 0;
var ABI = [{
  "type": "function",
  "name": "balanceOfAddress",
  "inputs": [{
    "name": "_address",
    "type": "address"
  }],
  "outputs": [{
    "name": "returnValue0",
    "type": "uint256"
  }],
  "constant": true,
  "payable": false
}, {
  "type": "function",
  "name": "ownerBalance",
  "inputs": [],
  "outputs": [{
    "name": "returnValue0",
    "type": "uint256"
  }],
  "constant": true,
  "payable": false
}, {
  "type": "function",
  "name": "recipientBalance",
  "inputs": [],
  "outputs": [{
    "name": "returnValue0",
    "type": "uint256"
  }],
  "constant": true,
  "payable": false
}, {
  "type": "function",
  "name": "callerBalance",
  "inputs": [],
  "outputs": [{
    "name": "returnValue0",
    "type": "uint256"
  }],
  "constant": true,
  "payable": false
}, {
  "type": "function",
  "name": "ownerAddress",
  "inputs": [],
  "outputs": [{
    "name": "returnValue0",
    "type": "uint256"
  }],
  "constant": true,
  "payable": false
}, {
  "type": "function",
  "name": "recipientAddress",
  "inputs": [],
  "outputs": [{
    "name": "returnValue0",
    "type": "uint256"
  }],
  "constant": true,
  "payable": false
}, {
  "type": "function",
  "name": "callerAddress",
  "inputs": [],
  "outputs": [{
    "name": "returnValue0",
    "type": "uint256"
  }],
  "constant": true,
  "payable": false
}, {
  "type": "function",
  "name": "transfer",
  "inputs": [{
    "name": "_from",
    "type": "address"
  }, {
    "name": "_to",
    "type": "address"
  }, {
    "name": "_amount",
    "type": "uint256"
  }],
  "outputs": [{
    "name": "returnValue0",
    "type": "bool"
  }],
  "constant": false,
  "payable": false
}, {
  "type": "function",
  "name": "printLn",
  "inputs": [{
    "name": "input",
    "type": "uint256"
  }],
  "outputs": [{
    "name": "returnValue0",
    "type": "uint256"
  }],
  "constant": true,
  "payable": false
}, {
  "type": "function",
  "name": "depositCollateral",
  "inputs": [{
    "name": "amount",
    "type": "uint256"
  }],
  "outputs": [],
  "constant": false,
  "payable": true
}, {
  "type": "function",
  "name": "val",
  "inputs": [],
  "outputs": [{
    "name": "returnValue0",
    "type": "uint256"
  }],
  "constant": false,
  "payable": true
}, {
  "type": "event",
  "name": "SmartContract",
  "inputs": [{
    "name": "indexed_from",
    "type": "address",
    "indexed": true
  }, {
    "name": "_value",
    "type": "uint256",
    "indexed": false
  }]
}, {
  "type": "event",
  "name": "Transfer",
  "inputs": [{
    "name": "indexed_from",
    "type": "address",
    "indexed": true
  }, {
    "name": "indexed_to",
    "type": "address",
    "indexed": true
  }, {
    "name": "_value",
    "type": "uint256",
    "indexed": false
  }]
}, {
  "type": "constructor",
  "inputs": [{
    "name": "recipient_address",
    "type": "address"
  }]
}];
exports.ABI = ABI;
var CODE_HEX = '0x0061736d01000000013b0a60047f7f7f7f0060027f7f017f60017f017f60027f7f0060017f006000017f60000060057f7f7f7f7f0060057f7f7f7f7f017f60037f7f7f017f02780803656e760673656e646572000403656e760576616c7565000403656e760c696e7075745f6c656e677468000503656e760b66657463685f696e707574000403656e760570616e6963000303656e760d73746f726167655f7772697465000303656e76066d656d6f72790201021003656e760372657400030329280303070303000203060303060604040406010300080401020001020804040400040304060103090604050170010a0a0608017f01418080040b0708010463616c6c002e090f010041010b091c1f2021251a1d1e240aeb1e286d01037f230041206b22022400200241086a41106a22034100360200200241086a41086a2204420037030020024200370308200241086a41142001410c6a4114100c200041106a2003280200360000200041086a200429030037000020002002290308370000200241206a24000b7d01047f230041206b22022400200241186a22034200370300200241106a22044200370300200241086a22054200370300200242003703002002410c6a411420014114100c200041186a2003290300370000200041106a2004290300370000200041086a200529030037000020002002290300370000200241206a24000b39000240024020022001490d0020042002490d012000200220016b3602042000200320016a3602000f0b20012002100a000b20022004100b000b05001012000b05001012000b1900024020012003470d00200020022001102d1a0f0b1012000bb00101027f230041106b220124000240024002402000450d00200041036a4102762200417f6a220241ff014b0d01200241027441e884046a2202450d01200141e484043602042001200228020036020c200041012001410c6a200141046a41b08004101b21002002200128020c3602000c020b410121000c010b200141002802e4840436020820004101200141086a41f8830441c88004101b2100410020012802083602e484040b200141106a240020000bad0101017f230041106b2202240002402000450d00200220003602042001450d000240200141036a410276417f6a220041ff014b0d00200041027441e884046a2200450d00200241e484043602082002200028020036020c200241046a2002410c6a200241086a41b0800410262000200228020c3602000c010b200241002802e4840436020c200241046a2002410c6a41f8830441c8800410264100200228020c3602e484040b200241106a24000b090041e080041027000b040000000b100002402001450d0020002001100e0b0b05001017000b0500100f000b6401037f230041206b22012400200141086a41106a22024100360200200141086a41086a2203420037030020014200370308200141086a1000200041106a2002280200360000200041086a200329030037000020002001290308370000200141206a24000be50101037f230041c0006b22012400200141186a4200370300200141106a4200370300200141086a42003703002001420037030020011001200141206a41186a4200370300200141206a41106a4200370300200141206a41086a420037030020014200370320411f2102200141206a2103024003402002417f460d012003200120026a2d00003a00002002417f6a2102200341016a21030c000b0b20002001290320370300200041186a200141206a41186a290300370300200041106a200141206a41106a290300370300200041086a200141206a41086a290300370300200141c0006a24000b5901037f024002400240024010022201450d002001417f4c0d022001100d2202450d0320021003200121030c010b41002103410121020b2000200336020420002002360200200020013602080f0b1013000b200141011010000b0900410041001004000b7002017f027e200041186a2100200141186a21024103210102400240024003402001417f460d01200141034b0d032000290300220320022903002204540d02200041786a2100200241786a21022001417f6a210120032004580d000b41010f0b41000f0b41ff010f0b200141041019000b05001012000b920101027f230041106b2204240020042001280200220128020036020c200241026a220220026c220241801020024180104b1b220541042004410c6a41f8830441988004101b21022001200428020c360200024002402002450d00200242003702042002200220054102746a410272360200410021010c010b410121010b2000200236020420002001360200200441106a24000b6b01027f230041106b22052400024020002001200220032004102222060d00200541086a200320002001200428020c1100004100210620052802080d00200528020c220620022802003602082002200636020020002001200220032004102221060b200541106a240020060b02000b040020010b040041000b7201017f41002104024002404100200241027422022003410374418080016a220320032002491b418780046a2202411076400022034110742003417f461b2203450d00200342003702042003200320024180807c716a4102723602000c010b410121040b20002003360204200020043602000b05004180040b040041010bc90301067f2001417f6a2105410020016b21062000410274210720022802002108200441106a2109024002400240024003402008450d012008210102400340200141086a210420012802082208410171450d0120042008417e71360200024002402001280204417c712208450d004100200820082d00004101711b21080c010b410021080b20011023024020012d0000410271450d00200820082802004102723602000b20022008360200200821010c000b0b02402001280200417c71220a20046b2007490d0020042003200020092802001101004102746a41086a200a20076b20067122084d0d03200428020021082005200471450d040b200220083602000c000b0b41000f0b20084100360200200841786a2208420037020020082001280200417c71360200024020012802002202417c712204450d0020024102710d00200420042802044103712008723602040b20082008280204410371200172360204200141086a22042004280200417e7136020020012001280200220441037120087222023602002004410271450d0120012002417d71360200200820082802004102723602000c010b20022008417c71360200200121080b20082008280200410172360200200841086a0b8f0101027f0240024020002802002201417c712202450d0020014102710d00200220022802044103712000280204417c7172360204200041046a21020c010b200041046a21020b024020022802002202417c712201450d00200120012802004103712000280200417c7172360200200028020421020b200041046a2002410371360200200020002802004103713602000b02000b02000bb80101017f200028020022044100360200200441786a22002000280200417e71360200024020022003280214110200450d0002402004417c6a280200417c712202450d0020022d00004101710d0020001023024020002d0000410271450d00200220022802004102723602000b0f0b20002802002202417c712203450d0020024102710d0020032d00004101710d0020042003280208417c71360200200320004101723602080f0b20042001280200360200200120003602000b05001012000bb106010b7f230041d0016b22022400024002402001280208220341206a2204200128020422054d0d00200241f0006a41176a20024190016a41176a290000370000200241f0006a41106a20024190016a41106a290300370300200241f0006a41086a20024190016a41086a2903003703002002200229039001370370200241306a41176a200241d0006a41176a290000370000200241306a41106a200241d0006a41106a290300370300200241306a41086a200241d0006a41086a29030037030020022002290350370330200041033a0001410121010c010b200141086a2004360200200241086a20032004200128020020051009200228020c210320022802082105200241c8016a22044200370300200241b0016a41106a4200370300200241b0016a41086a4200370300200242003703b00141002101200241004120200520031009200241b0016a412020022802002002280204100c20024190016a41086a2203200241b0016a41096a220629000037030020024190016a41106a2205200241b0016a41116a220729000037030020024190016a41176a22082004290000370000200220022900b1013703900120022d00b0012109200241f0006a41176a220a2008290000370000200241f0006a41106a22082005290300370300200241f0006a41086a220b20032903003703002002200229039001370370200241d0006a41176a220c200a290000370000200241d0006a41106a220a2008290300370300200241d0006a41086a2208200b29030037030020022002290370370350200241306a41176a220b200c290000370000200241306a41106a220c200a290300370300200241306a41086a220a200829030037030020022002290350370330200241106a41176a2208200b290000370000200241106a41106a220b200c290300370300200241106a41086a220c200a290300370300200220022903303703102006200c2903003700002007200b29030037000020042008290000370000200220093a00b001200220022903103700b10120024190016a200241b0016a1007200041116a2005280000360000200041096a200329000037000020002002290090013700010b200020013a0000200241d0016a24000b05001012000be60301057f230041b0016b22002400200041086a10162000280210210120002802082102200041c0006a1015200041e0006a41186a4200370300200041e0006a41106a22034200370300200041e0006a41086a22044200370300200042003703600240200041c0006a200041e0006a102b0d002000200136021c2000200236021820004100360220200041e0006a200041186a1028200041286a200041e0006a102c200041c0006a41186a22014200370000200041d1006a4200370000200041c9006a420037000020004200370041200041013a004020004198016a41106a200041286a41106a28020036020020004198016a41086a200041286a41086a2903003703002000200029032837039801200041e0006a20004198016a1008200041c0006a200041e0006a100520014200370300200041c0006a41106a4200370300200041c0006a41086a42003703002000420037034020004198016a1014200341003602002004420037030020004200370360200041e0006a411420004198016a4114100c20004180016a41106a200328020036020020004180016a41086a20042903003703002000200029036037038001200041e0006a20004180016a1008200041c0006a200041e0006a10052002200028020c1011200041b0016a24000f0b41c081041027000b0f0020002001101841ff01714101460b4b01017f200141016a2102024020012d00004101460d0020002002290000370000200041106a200241106a280000360000200041086a200241086a2900003700000f0b20022d00001029000b3001017f410021030240034020022003460d01200020036a200120036a2d00003a0000200341016a21030c000b0b20000b0e00102a41ec8c04419aeb0010060b0ba1780400418080040bd801d800010020000000f800010062000000d3070000090000000100000000000000010000000200000003000000040000000500000004000000040000000600000007000000080000000900000000000000010000000200000003000000040000005a010100110000006b01010013000000f5020000050000007e0101001d0000009b0101005d000000290000000200000050020100120000002e0201000a0000002a0000000200000038020100180000002e0201000a0000002a00000002000000f8010100360000002e0201000a0000002a000000020000000041d881040b8a03617373657274696f6e206661696c65643a2038203c3d206275662e6c656e28292f55736572732f6e6f61682d76696e63656e7a6e6f65682f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f627974656f726465722d312e332e302f7372632f6c69622e72736361706163697479206f766572666c6f776c6962616c6c6f632f7261775f7665632e727361726974686d65746963206f7065726174696f6e206f766572666c6f772f55736572732f6e6f61682d76696e63656e7a6e6f65682f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f75696e742d302e352e302f7372632f6c69622e7273556e61626c6520746f206163636570742076616c756520696e206e6f6e2d70617961626c6520636f6e7374727563746f722063616c6c7372632f6c69622e7273496e76616c6964206d6574686f64207369676e6174757265496e76616c69642061626920696e766f6b650041e484040b840800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041ec8c040b9a6b0061736d0100000001410b60047f7f7f7f0060027f7f017f60017f017f60027f7f0060017f006000017f60000060057f7f7f7f7f0060037f7f7f0060057f7f7f7f7f017f60037f7f7f017f0296010a03656e760c73746f726167655f72656164000303656e760673656e646572000403656e760576616c7565000403656e760c696e7075745f6c656e677468000503656e760b66657463685f696e707574000403656e7603726574000303656e760570616e6963000303656e760d73746f726167655f7772697465000303656e7604656c6f67000003656e76066d656d6f727902010210033c3b0303030303030307030308030002030603030403060703060404040306010300090401020001020904040400040303030303080401030608030a0a04050170010a0a0608017f01418080040b0708010463616c6c003f090f010041010b092a2d2e2f33282b2c320ac75b3b6801017f230041c0006b2202240020022001100a200241206a41186a200241186a290000370300200241206a41106a200241106a290000370300200241206a41086a200241086a290000370300200220022900003703202000200241206a100b200241c0006a24000b7601047f230041206b22022400200241186a22034200370300200241106a22044200370300200241086a2205420037030020024200370300200120021000200041186a2003290300370000200041106a2004290300370000200041086a200529030037000020002002290300370000200241206a24000b6d01037f230041206b22022400200241086a41106a22034100360200200241086a41086a2204420037030020024200370308200241086a41142001410c6a41141015200041106a2003280200360000200041086a200429030037000020002002290308370000200241206a24000b2e01017f230041c0006b22022400200241206a2001100d2002200241206a100a20002002100e200241c0006a24000b9c0101017f230041c0006b22022400200241286a41106a200141106a280000360200200241286a41086a200141086a29000037030020022001290000370328200241086a200241286a100f200041086a200241086a41086a290300370000200041106a200241086a41106a290300370000200041186a200241086a41186a290300370000200241013a000820002002290308370000200241c0006a24000bea0101027f230041c0006b220241186a200141186a290000370300200241106a200141106a290000370300200241086a200141086a29000037030020022001290000370300200241206a41186a4200370300200241206a41106a4200370300200241206a41086a420037030020024200370320411f2101200241206a2103024003402001417f460d012003200220016a2d00003a00002001417f6a2101200341016a21030c000b0b20002002290320370300200041186a200241206a41186a290300370300200041106a200241206a41106a290300370300200041086a200241206a41086a2903003703000b7d01047f230041206b22022400200241186a22034200370300200241106a22044200370300200241086a22054200370300200242003703002002410c6a4114200141141015200041186a2003290300370000200041106a2004290300370000200041086a200529030037000020002002290300370000200241206a24000b39000240024020022001490d0020042002490d012000200220016b3602042000200320016a3602000f0b200120021011000b200220041012000b0500101d000b0500101d000b2e01017f2000200220016b2202101420002000280208220320026a360208200320002802006a20022001200210150b9c0101037f02400240024020002802042202200028020822036b20014f0d00200320016a22012003490d0120024101742203200120012003491b22014100480d01024002402002450d0020002802002104200110162203450d042003200420012002200220014b1b10421a2004200210170c010b200110162203450d030b20002003360200200041046a20013602000b0f0b1018000b200141011019000b1900024020012003470d0020002002200110421a0f0b101d000bb00101027f230041106b220124000240024002402000450d00200041036a4102762200417f6a220241ff014b0d01200241027441e884046a2202450d01200141e484043602042001200228020036020c200041012001410c6a200141046a41b08004102921002002200128020c3602000c020b410121000c010b200141002802e4840436020820004101200141086a41f8830441c8800410292100410020012802083602e484040b200141106a240020000bad0101017f230041106b2202240002402000450d00200220003602042001450d000240200141036a410276417f6a220041ff014b0d00200041027441e884046a2200450d00200241e484043602082002200028020036020c200241046a2002410c6a200241086a41b0800410342000200228020c3602000c010b200241002802e4840436020c200241046a2002410c6a41f8830441c8800410344100200228020c3602e484040b200241106a24000b090041e080041035000b040000000b100002402001450d002000200110170b0b4101017f0240412010162201450d00200020013602042000412036020020004201370210200041086a4220370200200041186a41003602000f0b412041011019000b830101047f230041106b2202240002402001410c6a22032802002001280200470d00200241086a2204200328020036020020022001290204370300200141146a28020021052002200128021022032003200141186a2802006a1013200041086a20042802003602002000200229030037020020032005101a200241106a24000f0b101d000b05001025000b39000240024020022001490d0020042002490d012000200220016b3602042000200320016a3602000f0b200120021011000b200220041012000b4d01017f230041206b22022400200241086a41106a200141106a280000360200200241086a41086a200141086a290000370300200220012900003703082000200241086a100f200241206a24000b05001018000b6401037f230041206b22012400200141086a41106a22024100360200200141086a41086a2203420037030020014200370308200141086a1001200041106a2002280200360000200041086a200329030037000020002001290308370000200141206a24000be50101037f230041c0006b22012400200141186a4200370300200141106a4200370300200141086a42003703002001420037030020011002200141206a41186a4200370300200141206a41106a4200370300200141206a41086a420037030020014200370320411f2102200141206a2103024003402002417f460d012003200120026a2d00003a00002002417f6a2102200341016a21030c000b0b20002001290320370300200041186a200141206a41186a290300370300200041106a200141206a41106a290300370300200041086a200141206a41086a290300370300200141c0006a24000b5901037f024002400240024010032201450d002001417f4c0d02200110162202450d0320021004200121030c010b41002103410121020b2000200336020420002002360200200020013602080f0b1020000b200141011019000b0900200020011005000b0900410041001006000b7002017f027e200041186a2100200141186a21024103210102400240024003402001417f460d01200141034b0d032000290300220320022903002204540d02200041786a2100200241786a21022001417f6a210120032004580d000b41010f0b41000f0b41ff010f0b200141041027000b0500101d000b920101027f230041106b2204240020042001280200220128020036020c200241026a220220026c220241801020024180104b1b220541042004410c6a41f8830441988004102921022001200428020c360200024002402002450d00200242003702042002200220054102746a410272360200410021010c010b410121010b2000200236020420002001360200200441106a24000b6b01027f230041106b22052400024020002001200220032004103022060d00200541086a200320002001200428020c1100004100210620052802080d00200528020c220620022802003602082002200636020020002001200220032004103021060b200541106a240020060b02000b040020010b040041000b7201017f41002104024002404100200241027422022003410374418080016a220320032002491b418780046a2202411076400022034110742003417f461b2203450d00200342003702042003200320024180807c716a4102723602000c010b410121040b20002003360204200020043602000b05004180040b040041010bc90301067f2001417f6a2105410020016b21062000410274210720022802002108200441106a2109024002400240024003402008450d012008210102400340200141086a210420012802082208410171450d0120042008417e71360200024002402001280204417c712208450d004100200820082d00004101711b21080c010b410021080b20011031024020012d0000410271450d00200820082802004102723602000b20022008360200200821010c000b0b02402001280200417c71220a20046b2007490d0020042003200020092802001101004102746a41086a200a20076b20067122084d0d03200428020021082005200471450d040b200220083602000c000b0b41000f0b20084100360200200841786a2208420037020020082001280200417c71360200024020012802002202417c712204450d0020024102710d00200420042802044103712008723602040b20082008280204410371200172360204200141086a22042004280200417e7136020020012001280200220441037120087222023602002004410271450d0120012002417d71360200200820082802004102723602000c010b20022008417c71360200200121080b20082008280200410172360200200841086a0b8f0101027f0240024020002802002201417c712202450d0020014102710d00200220022802044103712000280204417c7172360204200041046a21020c010b200041046a21020b024020022802002202417c712201450d00200120012802004103712000280200417c7172360200200028020421020b200041046a2002410371360200200020002802004103713602000b02000b02000bb80101017f200028020022044100360200200441786a22002000280200417e71360200024020022003280214110200450d0002402004417c6a280200417c712202450d0020022d00004101710d0020001031024020002d0000410271450d00200220022802004102723602000b0f0b20002802002202417c712203450d0020024102710d0020032d00004101710d0020042003280208417c71360200200320004101723602080f0b20042001280200360200200120003602000b0500101d000bc50201037f230041c0006b220224000240024002402001280208220341206a220420012802044d0d0020004181063b01000c010b200141086a2004360200200341604f0d0120012802002101200241386a4200370300200241306a4200370300200241206a41086a420037030020024200370320200120036a2104411f2101200241206a2103024003402001417f460d012003200420016a2d00003a00002001417f6a2101200341016a21030c000b0b200241186a2201200241206a41186a290300370300200241106a2203200241206a41106a290300370300200241086a2204200241206a41086a29030037030020022002290320370300200041003a0000200041206a2001290300370300200041186a2003290300370300200041106a2004290300370300200041086a20022903003703000b200241c0006a24000f0b200320041011000bb106010b7f230041d0016b22022400024002402001280208220341206a2204200128020422054d0d00200241f0006a41176a20024190016a41176a290000370000200241f0006a41106a20024190016a41106a290300370300200241f0006a41086a20024190016a41086a2903003703002002200229039001370370200241306a41176a200241d0006a41176a290000370000200241306a41106a200241d0006a41106a290300370300200241306a41086a200241d0006a41086a29030037030020022002290350370330200041033a0001410121010c010b200141086a2004360200200241086a20032004200128020020051010200228020c210320022802082105200241c8016a22044200370300200241b0016a41106a4200370300200241b0016a41086a4200370300200242003703b00141002101200241004120200520031010200241b0016a412020022802002002280204101520024190016a41086a2203200241b0016a41096a220629000037030020024190016a41106a2205200241b0016a41116a220729000037030020024190016a41176a22082004290000370000200220022900b1013703900120022d00b0012109200241f0006a41176a220a2008290000370000200241f0006a41106a22082005290300370300200241f0006a41086a220b20032903003703002002200229039001370370200241d0006a41176a220c200a290000370000200241d0006a41106a220a2008290300370300200241d0006a41086a2208200b29030037030020022002290370370350200241306a41176a220b200c290000370000200241306a41106a220c200a290300370300200241306a41086a220a200829030037030020022002290350370330200241106a41176a2208200b290000370000200241106a41106a220b200c290300370300200241106a41086a220c200a290300370300200220022903303703102006200c2903003700002007200b29030037000020042008290000370000200220093a00b001200220022903103700b10120024190016a200241b0016a100b200041116a2005280000360000200041096a200329000037000020002002290090013700010b200020013a0000200241d0016a24000b880402077f017e230041306b22022400200241106a41186a200141186a290300370300200241106a41106a200141106a290300370300200241106a41086a200141086a290300370300200220012903003703102000410c6a2201280200220341206a210402400240200341604f0d00200041046a2205412010142005280200200128020022066a21074100210102400340200720016a2105200141016a2208411f4b0d01200541003a0000200821010c000b0b200541003a0000200620016a41016a21010c010b4100210102400340200320016a41206a220520034f0d01200541016a2005490d01200141016a21010c000b0b200320016b21010b2000410c6a2001360200200241086a20032004200041046a2802002001101e200241286a210541002108200228020c21072002280208210041032103410021010240024002400340200141034b0d0120022008200720002007101e200341034b0d02200228020441074d0d03200141016a2101200228020020052903002209423886200942288642808080808080c0ff0083842009421886428080808080e03f8320094208864280808080f01f838484200942088842808080f80f832009421888428080fc07838420094228884280fe03832009423888848484370000200841086a2108200541786a21052003417f6a21030c000b0b200241306a24000f0b200341041027000b418080041035000b9f0101017f230041c0006b22022400200241186a200141186a290000370300200241106a200141106a290000370300200241086a200141086a29000037030020022001290000370300200241206a41186a4200370300200241206a41106a4200370300200241206a41086a420037030020024200370320200241206a4120200241201015200041046a200241206a200241206a41206a1013200241c0006a24000bf80202047f017e230041c0006b22022400200241186a2203200141186a290300370300200241106a200141106a290300370300200241086a200141086a29030037030020022001290300370300200241206a41186a4200370300200241206a41106a4200370300200241206a41086a42003703002002420037032041002101200241206a210441032105024002400340200141034b0d01200541034b0d02200420032903002206423886200642288642808080808080c0ff0083842006421886428080808080e03f8320064208864280808080f01f838484200642088842808080f80f832006421888428080fc07838420064228884280fe03832006423888848484370000200441086a21042005417f6a2105200341786a2103200141016a21010c000b0b20002002290320370000200041186a200241206a41186a290300370000200041106a200241206a41106a290300370000200041086a200241206a41086a290300370000200241c0006a24000f0b417f41041027000bec0103027e017f057e2001290308220320022903087c2204200354210520022903182106200229031021072001290318210320012903102108024002402001290300220920022903007c220a20095a0d00200442017c220920045420056a21050c010b200421090b200820077c22042008542101024002402005450d0020042005ad7c220720045420016a21010c010b200421070b200320067c220820035421020240024002402001450d0020082001ad7c220320085420026a0d010c020b200821032002450d010b41f880041035000b200020093703082000200a37030020002007370310200020033703180b0500101d000b0f0020002001102641ff01714101460b4b01017f200141016a2102024020012d00004101460d0020002002290000370000200041106a200241106a280000360000200041086a200241086a2900003700000f0b20022d0000103c000b2f01017f230041206b22002400200041106a10232000200028021020002802181040200028020020002802081024000be92803057f077e067f230041d0036b22032400024002400240024002400240024002400240024002400240024002400240200241034d0d000240024002400240024002400240024002400240024002400240200128000022044118742004410874418080fc07717220044108764180fe03712004411876727222044199b3fdd705460d0002400240024002400240024020044189d492fc78460d002002417c6a2102200141046a21012004419fc0d2d67b460d07200441c8d9aef57b460d0120044183e0f3f67b460d042004419fdfd9a57d460d03200441b5e89bda7e460d08200441b1d5a255460d09200441b6e8aee303460d05200441f0faee9304460d022004418fd784b178470d14200341b0036a102220034190026a41186a2204420037030020034190026a41106a2205420037030020034190026a41086a220642003703002003420037039002200341b0036a20034190026a103d0d15200320023602f402200320013602f002200341003602f80220034190026a200341f0026a103720034190036a20034190026a103e20034190026a20034190036a100d200341e0006a20034190026a100a200341b0036a200341e0006a100e20034190036a101b2004200341b0036a41186a2903003703002005200341b0036a41106a2903003703002006200341b0036a41086a290300370300200320032903b0033703900220034190036a20034190026a1038200420034190036a41186a280200360200200520034190036a41106a290300370300200620034190036a41086a290300370300200320032903900337039002200020034190026a101c0c210b200341b0036a102220034190026a41186a2204420037030020034190026a41106a2201420037030020034190026a41086a220242003703002003420037039002200341b0036a20034190026a103d0d152004420037030020014200370300200242003703002003420037039002200341e0006a20034190026a100a200341b0036a41186a2205200341e0006a41186a290300370300200341b0036a41106a2206200341e0006a41106a290300370300200341b0036a41086a2207200341e0006a41086a290300370300200320032903603703b00320034190036a101b200420052903003703002001200629030037030020022007290300370300200320032903b0033703900220034190036a20034190026a1039200420034190036a41186a280200360200200120034190036a41106a290300370300200220034190036a41086a290300370300200320032903900337039002200020034190026a101c0c200b200341b0036a1022200341a8026a22054200370300200341a0026a2206420037030020034198026a220742003703002003420037039002200341b0036a20034190026a103d0d152003200236020420032001360200410021042003410036020820034190026a20031037200341106a20034190026a103e20034190026a20031037200341286a20034190026a103e20034190026a20031036200341c0006a20034190026a104120034180016a200341106a100c200341a0016a200341286a100c2005420037030020064200370300200742003703002003420037039002200341c0006a20034190026a41201043450d1d20034180016a200341c0006a102641ff017141ff01460d1d200341286a200341106a41141043450d0b200329038801220820032903487d220920085621012003290358210a2003290350210b2003290398012108200329039001210c200329038001220d20032903407d220e200d580d0c2009427f7c220d20095620016a21010c0d0b200341b0036a1022200341a8026a4200370300200341a0026a420037030020034198026a42003703002003420037039002200341b0036a20034190026a103d0d1520032002360294032003200136029003200341003602980320034190026a20034190036a1036200341b0036a20034190026a104120032903c803210a20032903c003210c20032903b803210820032903b003220942027c220b20095a0d07200842017c220920085a0d08200c2009200854ad7c2208200c5a0d0d200a2008200c54ad7c220d200a5a0d1d41f880041035000b200341b0036a102220034190026a41186a2204420037030020034190026a41106a2201420037030020034190026a41086a220242003703002003420037039002200341b0036a20034190026a103d0d1520044200370000200341a1026a420037000020034199026a42003700002003420037009102200341013a00900220034190036a20034190026a1009200341b0036a20034190036a100c20034190036a101b2004200341b0036a41186a2903003703002001200341b0036a41106a2903003703002002200341b0036a41086a290300370300200320032903b0033703900220034190036a20034190026a1038200420034190036a41186a280200360200200120034190036a41106a290300370300200220034190036a41086a290300370300200320032903900337039002200020034190026a101c0c1d0b200341b0036a102220034190026a41186a2204420037030020034190026a41106a2201420037030020034190026a41086a220242003703002003420037039002200341b0036a20034190026a103d0d15200442003703002001420037030020024200370300200342003703900220034190036a20034190026a1009200341b0036a20034190036a100c20034190036a101b2004200341b0036a41186a2903003703002001200341b0036a41106a2903003703002002200341b0036a41086a290300370300200320032903b0033703900220034190036a20034190026a1038200420034190036a41186a280200360200200120034190036a41106a290300370300200220034190036a41086a290300370300200320032903900337039002200020034190026a101c0c1c0b200341b0036a102220034190036a101b20034190026a41186a2204200341b0036a41186a29030037030020034190026a41106a2201200341b0036a41106a29030037030020034190026a41086a2202200341b0036a41086a290300370300200320032903b0033703900220034190036a20034190026a1038200420034190036a41186a280200360200200120034190036a41106a290300370300200220034190036a41086a290300370300200320032903900337039002200020034190026a101c0c1b0b200341b0036a102220034190026a41186a420037030020034190026a41106a2204420037030020034190026a41086a42003703002003420037039002200341b0036a20034190026a103d0d1420034190026a41186a22014200370000200341a1026a420037000020034199026a42003700002003420037009102200341013a009002200341e0006a20034190026a100a200341b0036a41186a2202200341e0006a41186a290300370300200341b0036a41106a2205200341e0006a41106a290300370300200341b0036a41086a2206200341e0006a41086a290300370300200320032903603703b00320034190036a101b200120022903003703002004200529030037030020034190026a41086a22022006290300370300200320032903b0033703900220034190036a20034190026a1039200120034190036a41186a280200360200200420034190036a41106a290300370300200220034190036a41086a290300370300200320032903900337039002200020034190026a101c0c1a0b20032002360284012003200136028001200341003602880120034190026a20034180016a1036200341c0016a20034190026a1041200341a0016a1021200341f0026a200341a0016a100c200341b0036a41186a200341f0026a41186a290300370300200341b0036a41106a200341f0026a41106a290300370300200341b0036a41086a200341f0026a41086a290300370300200320032903f0023703b00320034190026a41186a2204200341c0016a41186a29030037030020034190026a41106a2201200341c0016a41106a29030037030020034190026a41086a2202200341c0016a41086a290300370300200320032903c0013703900220034190036a200341b0036a20034190026a103b200341b0036a200341a0016a100d200420034190036a41186a290300370300200120034190036a41106a290300370300200220034190036a41086a290300370300200320032903900337039002200341e0006a20034190026a103a200341b0036a200341e0006a100720004100360208200042013702000c190b200341b0036a102220034190026a41186a2204420037030020034190026a41106a2201420037030020034190026a41086a220242003703002003420037039002200341b0036a20034190026a103d0d1320034190026a1021200341b0036a20034190026a100c20034190036a101b2004200341b0036a41186a2903003703002001200341b0036a41106a2903003703002002200341b0036a41086a290300370300200320032903b0033703900220034190036a20034190026a1038200420034190036a41186a280200360200200120034190036a41106a290300370300200220034190036a41086a290300370300200320032903900337039002200020034190026a101c0c180b200341b0036a102220034190026a41186a2204420037030020034190026a41106a2201420037030020034190026a41086a220242003703002003420037039002200341b0036a20034190026a103d0d1320034190026a1021200341b0036a20034190026a100f20034190036a101b2004200341b0036a41186a2903003703002001200341b0036a41106a2903003703002002200341b0036a41086a290300370300200320032903b0033703900220034190036a20034190026a1039200420034190036a41186a280200360200200120034190036a41106a290300370300200220034190036a41086a290300370300200320032903900337039002200020034190026a101c0c170b200a210d200821090c010b200a210d0b200c21080c130b410021040c110b2009210d0b200c200b7d2209200c5621042001450d0120092001ad7d220b20095620046a21040c020b200a210d0c0f0b2009210b0b2008200a7d220c2008562101024002402004450d00200c2004ad7d2208200c5620016a0d010c0d0b200c21082001450d0c0b41f880041035000b419081041035000b41a881041035000b41c081041035000b41c081041035000b41c081041035000b41c081041035000b41c081041035000b41c081041035000b41c081041035000b41c081041035000b41c081041035000b200341b0036a41186a2204200341a0016a41186a290300370300200341b0036a41106a2201200341a0016a41106a290300370300200341b0036a41086a2202200341a0016a41086a290300370300200320032903a0013703b00320034190026a41186a2205200341c0006a41186a220f29030037030020034190026a41106a2206200341c0006a41106a221029030037030020034190026a41086a2207200341c0006a41086a22112903003703002003200329034037039002200341c0016a200341b0036a20034190026a103b20034190036a200341106a100d2003200d370398022003200e370390022003200b3703a002200320083703a802200341b0036a20034190026a103a20034190036a200341b0036a100720034190036a200341286a100d2005200341c0016a41186a2903003703002006200341c0016a41106a2903003703002007200341c0016a41086a290300370300200320032903c00137039002200341b0036a20034190026a103a20034190036a200341b0036a1007200341e0016a41106a200341106a41106a280200360200200341e0016a41086a200341106a41086a290300370300200320032903103703e001200341f8016a41106a200341286a41106a280200360200200341f8016a41086a200341286a41086a290300370300200320032903283703f801200342aaabaeb99afe98e2a17f37006f20034296d0d4d7d5a9fd91b37f370077200341f0026a41106a22122003290070370300200341e984c3c506360068200341fcef003b006c2003418d013a006e200341f0026a41086a22132003290068370300200341ef013a007f200341f0026a41186a22142003290078370300200342dde5cbeabac3b8e49b7f370060200342dde5cbeabac3b8e49b7f3703f00220034190036a200341e0016a101f200341b0036a200341f8016a101f200520142903003703002006201229030037030020072013290300370300200341b8026a20034190036a41086a2205290300370300200341c0026a20034190036a41106a2206290300370300200341c8026a20034190036a41186a2207290300370300200341d8026a2002290300370300200341e0026a2001290300370300200341e8026a2004290300370300200320032903f0023703900220032003290390033703b002200320032903b0033703d00220034190036a101b2004200f2903003703002001201029030037030020022011290300370300200320032903403703b00320034190036a200341b0036a103820042007280200360200200120062903003703002002200529030037030020032003290390033703b003200341f0026a200341b0036a101c20034190026a410320032802f002220420032802f8021008200420032802f402101a410121040b200341b0036a101b200341f7006a4200370000200341e0006a41106a4200370300200341e0006a41086a420037030020034200370360200320043a007f200341b0036a410472200341e0006a20034180016a101320034190026a41186a200341b0036a41186a28020036020020034190026a41106a200341b0036a41106a29030037030020034190026a41086a200341b0036a41086a290300370300200320032903b00337039002200020034190026a101c0c010b200341b0036a101b20032009370398022003200b37039002200320083703a0022003200d3703a802200341b0036a20034190026a103820034190026a41186a200341b0036a41186a28020036020020034190026a41106a200341b0036a41106a29030037030020034190026a41086a200341b0036a41086a290300370300200320032903b00337039002200020034190026a101c0b200341d0036a24000b5500024020012d00004101460d00200041186a200141206a290300370300200041106a200141186a290300370300200041086a200141106a2903003703002000200141086a2903003703000f0b20012d0001103c000b3001017f410021030240034020022003460d01200020036a200120036a2d00003a0000200341016a21030c000b0b20000b4801047f410021034100210402400340200420024f0d01200120046a2105200020046a2106200441016a210420062d0000220620052d00002205460d000b200620056b21030b20030b0bff0c0300418080040bd801d800010020000000f800010062000000d3070000090000000100000000000000010000000200000003000000040000000500000004000000040000000600000007000000080000000900000000000000010000000200000003000000040000005a010100110000006b01010013000000f5020000050000007e0101001d0000009b0101005d000000290000000200000050020100120000002e0201000a0000002a0000000200000038020100180000002e0201000a0000002a00000002000000f8010100360000002e0201000a0000002a000000020000000041d881040b8a03617373657274696f6e206661696c65643a2038203c3d206275662e6c656e28292f55736572732f6e6f61682d76696e63656e7a6e6f65682f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f627974656f726465722d312e332e302f7372632f6c69622e72736361706163697479206f766572666c6f776c6962616c6c6f632f7261775f7665632e727361726974686d65746963206f7065726174696f6e206f766572666c6f772f55736572732f6e6f61682d76696e63656e7a6e6f65682f2e636172676f2f72656769737472792f7372632f6769746875622e636f6d2d316563633632393964623965633832332f75696e742d302e352e302f7372632f6c69622e7273556e61626c6520746f206163636570742076616c756520696e206e6f6e2d70617961626c6520636f6e7374727563746f722063616c6c7372632f6c69622e7273496e76616c6964206d6574686f64207369676e6174757265496e76616c69642061626920696e766f6b650041e484040b84080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000';
exports.CODE_HEX = CODE_HEX;

},{}],2:[function(require,module,exports){
"use strict";

var _resources = require("../../resources.mjs");

/**
 * @author Noah-Vincenz Noeh <noah-vincenz.noeh18@imperial.ac.uk>
 */

/* jshint esversion: 6 */
var abi;
var codeHex;
var smartContract; // this does not exist for Kovan chain

function unlockAccount(address) {
  return new Promise(function (resolve, reject) {
    web3.personal.unlockAccount(address, "user", web3.toHex(0), function (err, result) {
      if (err) {
        reject(err);
      } else {
        console.log("Account has been unlocked: " + JSON.stringify(result));
        resolve();
      }
    });
  });
}

function estimateGas(dataIn) {
  return new Promise(function (resolve, reject) {
    web3.eth.estimateGas({
      to: web3.eth.defaultAccount,
      data: dataIn
    }, function (err, result) {
      if (err) {
        reject(err);
      } else {
        resolve(result * 1.2);
      }
    });
  });
}

function getGasLimit() {
  return new Promise(function (resolve, reject) {
    web3.eth.getBlock("latest", function (err, block) {
      if (err) {
        reject(err);
      } else {
        resolve(block.gasLimit);
      }
    });
  });
}

function instantiateNew(dataIn, gasLimit) {
  return new Promise(function (resolve, reject) {
    // 4000000000 = 4 GWEI per gas consumed
    smartContract["new"](web3.toChecksumAddress('0x7f023262356b002a4b7deb7ce057eb8b1aabb427'), {
      data: dataIn,
      from: web3.eth.defaultAccount
    }, function (err, contractInstance) {
      //smartContract.new({data: dataIn, from: web3.eth.defaultAccount, gasPrice: 4000000000, gas: gasLimit}, function (err, contractInstance) {
      if (err) {
        reject(err);
      } else {
        var transactionHash = contractInstance.transactionHash;
        console.log("TransactionHash: " + transactionHash + " waiting to be mined...");
        resolve(transactionHash);
      }
    });
  });
}

function deployContract(smartContract) {
  unlockAccount(web3.eth.defaultAccount).then(function () {
    // comment for Kovan chain
    //estimateGas(codeHex).then(function(estimatedGas) {
    //console.log("Gas for deployment: " + estimatedGas);
    var estimatedGas = 2;
    instantiateNew(codeHex, estimatedGas).then(function (instantiateTxHash) {
      waitForReceipt(instantiateTxHash).then(function (instantiationReceipt) {
        var smartContractInstance = smartContract.at(instantiationReceipt.contractAddress);
        ownerAddress(smartContractInstance).then(function (ownerAddress) {
          console.log("Contract Owner: " + ownerAddress);
          ownerBalance(smartContractInstance).then(function (oBalance1) {
            console.log("ownerBalance: " + oBalance1);
            recipientBalance(smartContractInstance).then(function (rBalance1) {
              console.log("recipientBalance: " + rBalance1);
              depositCollateral(smartContractInstance, '0x004ec07d2329997267Ec62b4166639513386F32E', 20).then(function (res) {
                waitForReceipt(res).then(function (_) {
                  console.log("Collateral of 20 Ether has been added to owner account.");
                  ownerBalance(smartContractInstance).then(function (oBalance2) {
                    console.log("ownerBalance: " + oBalance2);
                    recipientBalance(smartContractInstance).then(function (rBalance2) {
                      console.log("recipientBalance: " + rBalance2);
                      transfer(smartContractInstance, '0x004ec07d2329997267Ec62b4166639513386F32E', '0x7f023262356b002a4b7deb7ce057eb8b1aabb427', 5).then(function (giveTxHash) {
                        waitForReceipt(giveTxHash).then(function (_) {
                          console.log("Owner has given 5 Ether to recipient.");
                          ownerBalance(smartContractInstance).then(function (oBalance3) {
                            console.log("ownerBalance: " + oBalance3);
                            recipientBalance(smartContractInstance).then(function (rBalance3) {
                              console.log("recipientBalance: " + rBalance3);
                            });
                          });
                        });
                      });
                    });
                  });
                });
              });
            });
          });
        });
      });
    }); //});
  }); // comment for Kovan chain
}

function print(smartContractInstance, input) {
  return new Promise(function (resolve, reject) {
    smartContractInstance.printLn(7, function (err, result) {
      if (err) {
        reject(err);
      } else {
        resolve(result.toString(10));
      }
    });
  });
}

function depositCollateral(smartContractInstance, senderAddress, amount) {
  return new Promise(function (resolve, reject) {
    smartContractInstance.depositCollateral(amount, {
      from: senderAddress,
      value: web3.toWei(amount, "ether")
    }, function (err, result) {
      if (err) {
        reject(err);
      } else {
        resolve(result.toString(10));
      }
    });
  });
}

function ownerBalance(smartContractInstance) {
  return new Promise(function (resolve, reject) {
    smartContractInstance.ownerBalance(function (err, result) {
      if (err) {
        reject(err);
      } else {
        resolve(web3.toDecimal(result));
      }
    });
  });
}

function recipientBalance(smartContractInstance) {
  return new Promise(function (resolve, reject) {
    smartContractInstance.recipientBalance(function (err, result) {
      if (err) {
        reject(err);
      } else {
        resolve(web3.toDecimal(result));
      }
    });
  });
}

function ownerAddress(smartContractInstance) {
  return new Promise(function (resolve, reject) {
    smartContractInstance.ownerAddress(function (err, result) {
      if (err) {
        reject(err);
      } else {
        resolve(web3.toHex(result.toString(10)));
      }
    });
  });
}

function balanceOfAddress(smartContractInstance, address) {
  return new Promise(function (resolve, reject) {
    smartContractInstance.balanceOfAddress(web3.toChecksumAddress(address), function (err, result) {
      if (err) {
        reject(err);
      } else {
        resolve(web3.toDecimal(result));
      }
    });
  });
}

function setUpFilter(contractInstance, transactionHash) {
  return new Promise(function (resolve, reject) {
    var filter = web3.eth.filter('latest');
    filter.watch(function (err, blockHash) {
      if (err) {
        reject(err);
      } else {
        filter.stopWatching();
        resolve();
      }
    });
  });
}

function transfer(smartContractInstance, fromAddress, toAddress, amount) {
  return new Promise(function (resolve, reject) {
    smartContractInstance.transfer(fromAddress, toAddress, amount, function (err, result) {
      if (err) {
        reject(err);
      } else {
        console.log(result.toString(10));
        console.log(web3.toHex(result));
        resolve(result);
      }
    });
  });
}

function waitForReceipt(transactionHash) {
  return new Promise(function (resolve, reject) {
    web3.eth.getTransactionReceipt(transactionHash, function (err, receipt) {
      if (err) {
        reject(err);
      } else {
        if (receipt !== null) {
          // Transaction went through
          resolve(receipt);
        } else {
          // Try again in 1 second
          window.setTimeout(function () {
            waitForReceipt(transactionHash);
          }, 1000);
        }
      }
    });
  });
}

window.addEventListener('load', function () {
  if (typeof web3 !== 'undefined') {
    console.log('Web3 Detected! ' + web3.currentProvider.constructor.name);
    console.log("Web3 Version: " + web3.version.api);
    abi = _resources.ABI; // abi needs to be JS array instead of string

    codeHex = web3.toHex(_resources.CODE_HEX); // or from Ascii if I am certain it is Ascii.. toHex uses String or Number as param

    smartContract = web3.eth.contract(abi); //web3.eth.defaultAccount = '0x7f023262356b002a4b7deb7ce057eb8b1aabb427'; // dev net account

    web3.eth.defaultAccount = '0x004ec07d2329997267Ec62b4166639513386F32E'; // dev net account with large funds
    //web3.eth.defaultAccount = '0x8ce40D9956E7B8A89A1D73f4D4850c760EA20A56'; // Kovan account

    console.log("Balance:");
    web3.eth.getBalance(web3.eth.defaultAccount, function (err, result) {
      if (!err) {
        console.log(JSON.stringify(result));
      }
    });
    deployContract(smartContract);
    /*
    // Subscribe to the Transfer event
    smartContract.events.Transfer({
        from: web3.eth.defaultAccount // Filter transactions by sender
    }, function (err, event) {
        console.log(event);
    });
    */
  } else {
    console.log('No Web3 Detected... using HTTP Provider');
    window.web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
  }
});

function transferEther(fromAddress, toAddress, amount) {
  web3.eth.sendTransaction({
    to: toAddress,
    from: fromAddress,
    gasPrice: "20000000000",
    gas: "210000",
    value: web3.toWei(amount, "ether")
  }, function (err, transactionHash) {
    if (!err) {
      console.log("Transferred ether.");
      console.log("TransactionHash: " + transactionHash);
    }
  });
}

function changeFunction(strFunction) {
  selectedFunction = strFunction;
}

function getSelectedFunction() {
  return document.getElementById("select-function").value;
}

},{"../../resources.mjs":1}]},{},[2]);
